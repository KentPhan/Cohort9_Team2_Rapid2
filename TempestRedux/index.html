<!DOCTYPE html>
<html>
<head>
    <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script> -->

    <!-- <script src="node_modules/phaser/dist/phaser.js"></script>
    <script src="node_modules/phaser/dist/phaser-core.js"></script> -->
    <script src="//cdn.jsdelivr.net/npm/phaser@3.12.0/dist/phaser.min.js"></script>
    
    <script src="source/Managers/TempestGame.js"></script>
    <script src="source/Managers/EnemyManager.js"></script>
    <script src="source/Managers/LevelManager.js"></script>
    <script src="source/Managers/InputManager.js"></script>
    <script src="source/Managers/BulletManager.js"></script>

    <script src="source/Entities/Level/Level.js"></script>
    <script src="source/Entities/Map/Map.js"></script>
    <script src="source/Entities/Player/Player.js"></script>
    <script src="source/Entities/Player/StandardBullet.js"></script>
    <script src="source/Entities/Enemies/StandardEnemy.js"></script>
    
    <script src="source/Entities/Camera/Camera.js"></script>

    <script src="source/Entities/Effects/PlayerDeathEffect.js"></script>
    <script src="source/Entities/Level/Background.js"></script>

    <script>
        // Included
        var Vector2 = Phaser.Math.Vector2;

        var config = {
            type: Phaser.AUTO,
            width: 1280,
            height: 720,
            physics:{
                default: 'arcade'
            },
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        };

        var game = new Phaser.Game(config);

        var Tempest;

        function preload()
        {
            this.load.image('alien', 'assets/sprites/tank1color_small.png');
            this.load.image('alien_angry', 'assets/sprites/pulsarcolor_small.png');
            this.load.image('bullet', 'assets/testbullet.png');

            //load sprites
            this.load.image('player', 'assets/sprites/Player_Ship.png');
            this.load.image('death_particle', 'assets/sprites/particleSprite_01.png');

            //backgrounds
            this.load.image('box_left', 'assets/backgrounds/Cabinet_Art_Left.png');
            this.load.image('box_right', 'assets/backgrounds/Cabinet_Art_Right.png');
            this.load.image('background', 'assets/backgrounds/Background_02.png');
            this.load.image('stars_01', 'assets/backgrounds/Stars_01.png');

            //load sounds
            
            this.load.audio('track', 'assets/audio/The Way Out.mp3'); 
            this.load.audio('move_sfx', 'assets/audio/Player_movement.mp3'); 
            this.load.audio('dash_sfx', 'assets/audio/Dash.mp3');
            this.load.audio('explosion_sfx', 'assets/audio/Explosion_Short.mp3');
            this.load.audio('death_sfx', 'assets/audio/playerdeath.mp3');
            this.load.audio('transition_sfx', 'assets/audio/Level_Transition_2-8.mp3');

            Tempest = TempestGame.getInstance(this);
        }

        function create ()
        {
            Tempest.Create(this);
        }

        function update()
        {
            Tempest.Update();
            Tempest.Draw();

        }

        // var canvas = game.canvas;
        // canvas.addEventListener("click",fullscreen)
        // function fullscreen(){
        //    if(canvas.webkitRequestFullScreen) {
        //        canvas.webkitRequestFullScreen();
        //    }
        //   else {
        //     canvas.mozRequestFullScreen();
        //   }            
        // }
    </script>
</head>
<body>

</body>
</html>
